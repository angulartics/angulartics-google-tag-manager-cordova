!function(window,angular,document){"use strict";angular.module("angulartics.google.tagmanager.cordova",["angulartics"]).provider("googleTagManagerCordova",function(){var GoogleTagManagerCordova=["$q","$log","ready","debug","trackingId","period",function($q,$log,ready,debug,trackingId,period){function success(){debug&&$log.info(arguments)}function failure(err){debug&&$log.error(err)}var deferred=$q.defer(),deviceReady=!1;document.addEventListener("deviceReady",function(){deviceReady=!0,deferred.resolve()},!1),document.addEventListener("pause",function(){var analytics=window.plugins&&window.plugins.TagManager;analytics&&analytics.dispatch(success,failure)},!1),document.addEventListener("resign",function(){var analytics=window.plugins&&window.plugins.TagManager;analytics&&analytics.dispatch(success,failure)},!1),setTimeout(function(){deviceReady||deferred.resolve()},3e3),this.init=function(){return deferred.promise.then(function(){var analytics=window.plugins&&window.plugins.TagManager;analytics?analytics.init(function(){ready(analytics,success,failure)},failure,trackingId,period||30):debug&&$log.error("Google Tag Manager for Cordova is not available")})}}];return{$get:["$injector",function($injector){return $injector.instantiate(GoogleTagManagerCordova,{ready:this._ready||angular.noop,debug:this.debug,trackingId:this.trackingId,period:this.period})}],ready:function(fn){this._ready=fn}}}).config(["$analyticsProvider","googleTagManagerCordovaProvider",function($analyticsProvider,googleTagManagerCordovaProvider){googleTagManagerCordovaProvider.ready(function(analytics,success,failure){$analyticsProvider.registerPageTrack(function(path){analytics.trackPage(success,failure,path)}),$analyticsProvider.registerEventTrack(function(action,properties){analytics.trackEvent(success,failure,properties.category,action,properties.label,properties.value)})})}]).run(["googleTagManagerCordova",function(googleTagManagerCordova){googleTagManagerCordova.init()}])}(window,window.angular,document);
//# sourceMappingURL=../dist/angulartics-google-tag-manager-cordova.min.js.map